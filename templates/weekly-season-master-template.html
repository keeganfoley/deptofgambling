<!--
  ============================================================
  WEEKLY SEASON OVERVIEW - SLIDE 4 MASTER TEMPLATE
  ============================================================
  Location: templates/weekly-season-master-template.html
  Status: TEMPLATE - Uses {{PLACEHOLDERS}}
  ============================================================
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Week {{WEEK_NUMBER}} - Season Overview</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; }

    .container {
      width: 1080px;
      height: 1350px;
      padding: 35px 45px;
      position: relative;
      background: linear-gradient(180deg, #0a1628 0%, #0d1f3c 50%, #061224 100%);
      display: flex;
      flex-direction: column;
    }

    .grid-bg {
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image:
        linear-gradient(rgba(251,191,36,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(251,191,36,0.03) 1px, transparent 1px);
      background-size: 40px 40px;
    }

    .corner-accent {
      position: absolute;
      width: 120px;
      height: 120px;
      border: 3px solid rgba(251,191,36,0.3);
    }
    .corner-accent.tl { top: 20px; left: 20px; border-right: none; border-bottom: none; }
    .corner-accent.tr { top: 20px; right: 20px; border-left: none; border-bottom: none; }
    .corner-accent.bl { bottom: 20px; left: 20px; border-right: none; border-top: none; }
    .corner-accent.br { bottom: 20px; right: 20px; border-left: none; border-top: none; }

    .content { position: relative; z-index: 1; flex: 1; display: flex; flex-direction: column; }

    /* HEADER */
    .header {
      text-align: center;
      padding-bottom: 25px;
      border-bottom: 2px solid rgba(251,191,36,0.2);
      margin-bottom: 25px;
    }
    .dept-name {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 8px;
      color: rgba(255,255,255,0.5);
      margin-bottom: 8px;
    }
    .page-title {
      font-size: 52px;
      font-weight: 900;
      letter-spacing: 3px;
      color: #fbbf24;
      margin-bottom: 12px;
    }
    .week-badge {
      display: inline-block;
      background: rgba(251,191,36,0.15);
      border: 2px solid rgba(251,191,36,0.4);
      padding: 10px 35px;
      border-radius: 6px;
    }
    .week-badge span {
      font-size: 20px;
      font-weight: 700;
      letter-spacing: 5px;
      color: #fbbf24;
    }

    /* SEASON TOTALS BAR */
    .season-totals {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
    }
    .season-stat {
      flex: 1;
      background: rgba(30, 41, 59, 0.6);
      border: 2px solid rgba(251,191,36,0.25);
      border-radius: 14px;
      padding: 22px 12px;
      text-align: center;
    }
    .season-stat-label {
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 2px;
      color: rgba(255,255,255,0.5);
      margin-bottom: 8px;
    }
    .season-stat-value {
      font-size: 36px;
      font-weight: 800;
      font-family: 'JetBrains Mono', monospace;
      color: #fbbf24;
      white-space: nowrap;
    }
    .season-stat-value.smaller {
      font-size: 28px;
    }
    .season-stat-value.positive { color: #22c55e; }
    .season-stat-value.negative { color: #ef4444; }

    /* CHART SECTION */
    .chart-section {
      background: rgba(20, 35, 60, 0.5);
      border: 2px solid rgba(251,191,36,0.2);
      border-radius: 16px;
      padding: 30px 35px;
      margin-bottom: 30px;
      flex: 1;
    }
    .chart-title {
      font-size: 20px;
      font-weight: 800;
      letter-spacing: 5px;
      color: #fbbf24;
      text-align: center;
      margin-bottom: 25px;
    }
    .chart-container {
      display: flex;
      gap: 20px;
      height: 320px;
    }
    .y-axis {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding: 10px 0;
      width: 90px;
      text-align: right;
      padding-right: 15px;
    }
    .y-label {
      font-size: 16px;
      font-family: 'JetBrains Mono', monospace;
      color: rgba(255,255,255,0.5);
    }
    .chart-area {
      flex: 1;
      position: relative;
    }
    .chart-svg {
      width: 100%;
      height: 100%;
    }
    .chart-grid-line {
      stroke: rgba(255,255,255,0.08);
      stroke-width: 1;
    }
    .chart-zero-line {
      stroke: rgba(255,255,255,0.25);
      stroke-width: 2;
      stroke-dasharray: 8 4;
    }
    .chart-line {
      fill: none;
      stroke: #22c55e;
      stroke-width: 5;
      stroke-linecap: round;
      stroke-linejoin: round;
      filter: drop-shadow(0 0 10px rgba(34,197,94,0.5));
    }
    .chart-area-fill {
      fill: url(#areaGradient);
    }
    .chart-dot {
      fill: #22c55e;
      stroke: #dcfce7;
      stroke-width: 4;
    }
    .chart-dot.current {
      fill: #fbbf24;
      stroke: #fef3c7;
      stroke-width: 5;
      filter: drop-shadow(0 0 12px rgba(251,191,36,0.6));
    }
    .x-axis {
      display: flex;
      justify-content: space-between;
      padding: 18px 0 0 110px;
    }
    .x-label {
      font-size: 22px;
      font-weight: 700;
      font-family: 'JetBrains Mono', monospace;
      color: rgba(255,255,255,0.6);
      text-align: center;
    }
    .x-label.current {
      color: #fbbf24;
      font-weight: 800;
      font-size: 26px;
    }

    /* WEEK COMPARISON */
    .comparison-section {
      display: flex;
      gap: 20px;
      margin-bottom: 25px;
    }
    .week-card {
      flex: 1;
      background: rgba(30, 41, 59, 0.6);
      border: 3px solid rgba(251,191,36,0.25);
      border-radius: 18px;
      padding: 35px 25px;
      text-align: center;
    }
    .week-card.last-week {
      border-color: rgba(255,255,255,0.2);
    }
    .week-card.this-week {
      border-color: rgba(34,197,94,0.5);
      background: linear-gradient(135deg, rgba(34,197,94,0.1) 0%, rgba(30,41,59,0.6) 100%);
    }
    .week-card.this-week.negative {
      border-color: rgba(239,68,68,0.5);
      background: linear-gradient(135deg, rgba(239,68,68,0.1) 0%, rgba(30,41,59,0.6) 100%);
    }
    .week-card-header {
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 4px;
      color: rgba(255,255,255,0.5);
      margin-bottom: 6px;
    }
    .week-card-title {
      font-size: 42px;
      font-weight: 800;
      color: #fbbf24;
      margin-bottom: 15px;
    }
    .week-card-pl {
      font-size: 64px;
      font-weight: 900;
      font-family: 'JetBrains Mono', monospace;
      margin-bottom: 8px;
    }
    .week-card-pl.positive { color: #22c55e; }
    .week-card-pl.negative { color: #ef4444; }
    .week-card-stats {
      display: flex;
      justify-content: center;
      gap: 50px;
      margin-top: 15px;
      padding-top: 18px;
      border-top: 2px solid rgba(255,255,255,0.1);
    }
    .week-card-stat {
      text-align: center;
    }
    .week-card-stat-label {
      font-size: 14px;
      font-weight: 700;
      letter-spacing: 3px;
      color: rgba(255,255,255,0.4);
      margin-bottom: 6px;
    }
    .week-card-stat-value {
      font-size: 36px;
      font-weight: 800;
      font-family: 'JetBrains Mono', monospace;
      color: white;
    }
    .week-card-stat-value.positive { color: #22c55e; }
    .week-card-stat-value.negative { color: #ef4444; }

    /* FLOW ARROW */
    .change-column {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 0 10px;
      min-width: 80px;
    }
    .flow-arrow {
      font-size: 70px;
      font-weight: 300;
      color: rgba(251,191,36,0.6);
    }

    /* FOOTER */
    .footer {
      margin-top: auto;
      padding-top: 15px;
      border-top: 1px solid rgba(251,191,36,0.15);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .footer-left, .footer-right {
      font-size: 13px;
      color: rgba(255,255,255,0.4);
      letter-spacing: 3px;
    }
    .footer-center {
      font-size: 16px;
      font-weight: 700;
      letter-spacing: 5px;
      color: rgba(255,255,255,0.6);
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="grid-bg"></div>
    <div class="corner-accent tl"></div>
    <div class="corner-accent tr"></div>
    <div class="corner-accent bl"></div>
    <div class="corner-accent br"></div>

    <div class="content">
      <!-- HEADER -->
      <div class="header">
        <div class="dept-name">DEPARTMENT OF GAMBLING</div>
        <div class="page-title">SEASON OVERVIEW</div>
        <div class="week-badge">
          <span>WEEK {{WEEK_NUMBER}} · {{DATE_RANGE}}</span>
        </div>
      </div>

      <!-- SEASON TOTALS -->
      <div class="season-totals">
        <div class="season-stat">
          <div class="season-stat-label">SEASON P/L</div>
          <div class="season-stat-value {{SEASON_PL_CLASS}}">{{SEASON_PL}}</div>
        </div>
        <div class="season-stat">
          <div class="season-stat-label">RECORD</div>
          <div class="season-stat-value {{SEASON_RECORD_CLASS}}">{{SEASON_RECORD}}</div>
        </div>
        <div class="season-stat">
          <div class="season-stat-label">UNITS WON</div>
          <div class="season-stat-value {{SEASON_UNITS_CLASS}}">{{SEASON_UNITS}}</div>
        </div>
        <div class="season-stat">
          <div class="season-stat-label">GREEN WEEKS</div>
          <div class="season-stat-value">{{GREEN_WEEKS}}</div>
        </div>
        <div class="season-stat">
          <div class="season-stat-label">WIN RATE</div>
          <div class="season-stat-value">{{SEASON_WIN_RATE}}</div>
        </div>
      </div>

      <!-- EQUITY CURVE CHART -->
      <div class="chart-section">
        <div class="chart-title">SEASON EQUITY CURVE</div>
        <div class="chart-container">
          <div class="y-axis">
            <div class="y-label">{{Y4}}</div>
            <div class="y-label">{{Y3}}</div>
            <div class="y-label">{{Y2}}</div>
            <div class="y-label">{{Y1}}</div>
            <div class="y-label">{{Y0}}</div>
          </div>
          <div class="chart-area">
            <svg class="chart-svg" viewBox="0 0 850 320" preserveAspectRatio="none">
              <defs>
                <linearGradient id="areaGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                  <stop offset="0%" style="stop-color:#22c55e;stop-opacity:0.3" />
                  <stop offset="100%" style="stop-color:#22c55e;stop-opacity:0" />
                </linearGradient>
              </defs>
              <!-- Grid lines -->
              <line class="chart-grid-line" x1="0" y1="80" x2="850" y2="80"/>
              <line class="chart-grid-line" x1="0" y1="160" x2="850" y2="160"/>
              <line class="chart-zero-line" x1="0" y1="{{ZERO_Y}}" x2="850" y2="{{ZERO_Y}}"/>
              <line class="chart-grid-line" x1="0" y1="240" x2="850" y2="240"/>

              <!-- Area fill -->
              <polygon class="chart-area-fill" points="{{AREA_POINTS}}"/>

              <!-- Line -->
              <polyline class="chart-line" points="{{LINE_POINTS}}"/>

              <!-- Dots -->
              {{DOTS}}
            </svg>
          </div>
        </div>
        <div class="x-axis">
          {{X_LABELS}}
        </div>
      </div>

      <!-- WEEK COMPARISON -->
      <div class="comparison-section">
        <div class="week-card last-week">
          <div class="week-card-header">PREVIOUS</div>
          <div class="week-card-title">WEEK {{LAST_WEEK_NUM}}</div>
          <div class="week-card-pl {{LAST_WEEK_PL_CLASS}}">{{LAST_WEEK_PL}}</div>
          <div class="week-card-stats">
            <div class="week-card-stat">
              <div class="week-card-stat-label">RECORD</div>
              <div class="week-card-stat-value">{{LAST_WEEK_RECORD}}</div>
            </div>
            <div class="week-card-stat">
              <div class="week-card-stat-label">ROI</div>
              <div class="week-card-stat-value {{LAST_WEEK_ROI_CLASS}}">{{LAST_WEEK_ROI}}</div>
            </div>
          </div>
        </div>

        <div class="change-column">
          <div class="flow-arrow">→</div>
        </div>

        <div class="week-card this-week {{THIS_WEEK_CARD_CLASS}}">
          <div class="week-card-header">CURRENT</div>
          <div class="week-card-title">WEEK {{WEEK_NUMBER}}</div>
          <div class="week-card-pl {{THIS_WEEK_PL_CLASS}}">{{THIS_WEEK_PL}}</div>
          <div class="week-card-stats">
            <div class="week-card-stat">
              <div class="week-card-stat-label">RECORD</div>
              <div class="week-card-stat-value">{{THIS_WEEK_RECORD}}</div>
            </div>
            <div class="week-card-stat">
              <div class="week-card-stat-label">ROI</div>
              <div class="week-card-stat-value {{THIS_WEEK_ROI_CLASS}}">{{THIS_WEEK_ROI}}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- FOOTER -->
      <div class="footer">
        <div class="footer-left">WEEK {{WEEK_NUMBER}} REPORT</div>
        <div class="footer-center">DEPTOFGAMBLING.COM</div>
        <div class="footer-right">SLIDE 4 OF 4</div>
      </div>
    </div>
  </div>
</body>
</html>
